<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head th:fragment="head">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Магазин открыток</title>
  <link rel="icon" type="image/vnd.microsoft.icon" href="../static/favicon.ico"
        th:href="@{/favicon.ico}"/>
  <link href="../static/css/bootstrap.min.css" rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet" href="../static/css/bootstrap-icons.css"
        th:href="@{/css/bootstrap-icons.css}">
</head>
<body>

<div class="container">
  <ul class="nav">
    <li class="nav-item"><a class="nav-link" href="#headerId">Хидер</a></li>
    <li class="nav-item"><a class="nav-link" href="#homePageId">Главная страница</a></li>
    <li class="nav-item"><a class="nav-link" href="#catalogId">Каталлог</a></li>
    <li class="nav-item"><a class="nav-link" href="#productAddId">Добавить продукт</a></li>
    <li class="nav-item"><a class="nav-link" href="#productDetailsId">Инф. о продукте</a></li>
    <li class="nav-item"><a class="nav-link" href="#footerId">Футер</a></li>
  </ul>
</div>

<div class="border-bottom border-top" id="headerId">Хидер</div>
<div class="container" th:fragment="header">
  <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
    <a href="#homePageId" th:href="@{~/index.html}"
       class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
      <img src="../static/images/logo.png" alt="Logo" th:src="@{/images/logo.png}">
    </a>
    <ul class="nav nav-pills">
      <li class="nav-item"><a href="#homePageId" class="nav-link text-muted"
                              aria-current="page" th:href="@{~/index.html}">Главная</a></li>
      <li class="nav-item"><a href="#catalogId" class="nav-link text-muted"
                              th:href="@{~/product/catalog}">Каталог</a></li>
      <li class="nav-item"><a href="#productAddId" class="nav-link text-muted"
                              th:href="@{~/product/add}">Добавить продукт</a></li>
    </ul>
  </header>
</div>

<div class="border-bottom border-top" id="homePageId">Домашняя страница</div>
<div th:fragment="homePage">
  <section class="py-1 text-center container">
    <div class="row py-lg-1">
      <div class="col-lg-6 col-md-8 mx-auto">
        <h1 class="fw-light">Магазин открыток</h1>
        <p class="lead text-muted">Открытки всем!</p>
        <p>
          <a href="#catalogId" th:href="@{~/product/catalog}" class="btn btn-secondary my-2">Смотреть все</a>
        </p>
      </div>
    </div>
  </section>

  <div class="album py-5 bg-light">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-3"
           th:remove="all-but-first">
        <div class="col" th:each="product : ${prods}">
          <div class="card shadow-sm">
            <img src="../static/images/holiday.jpg" alt="фото"
                 th:src="@{'product/image/' + ${product.image}}">
            <div class="card-body">
              <p class="card-text" th:text="${product.name}">Корзинка с яйцами</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <a href="#productDetailsId" class="btn btn-outline-secondary"
                     th:href="'product/' + ${product.id}">
                    <i class="bi bi-info-circle"></i>
                  </a>
                  <a href="#" class="btn btn-outline-secondary">
                    <i class="bi bi-cart"></i>
                  </a>
                </div>
                <small class="text-muted"
                       th:text="(${product.price} == null ? '' : ${product.price} + ' р.')">17
                  р.</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="border-bottom border-top" id="catalogId">Каталог</div>
<div th:fragment="catalog">
  <div class="album py-5 bg-light">
    <div class="container">

      <form name="postcard" method="post" action="#" th:action="@{/product/catalog}"
            th:object="${filter}">
        <div class="row">
          <div class="col-sm">
            <div class="form-group">
              <label for="vendorCodeId">Артикул</label>
              <input type="text" class="form-control" id="vendorCodeId"
                     placeholder="Введите артикут"
                     th:field="*{vendorCode}">
            </div>
          </div>
          <div class="col-sm">
            <div class="form-group">
              <label for="nameId">Название</label>
              <input type="text" class="form-control" id="nameId" placeholder="Введите название"
                     th:field="*{name}">
            </div>
          </div>
          <div class="col-sm">
            <div class="form-group">
              <label for="authorId">Автор</label>
              <input type="text" class="form-control" id="authorId" placeholder="Введите автора"
                     th:field="*{author}">
            </div>
          </div>
          <div class="col-sm">
            <div class="form-group">
              <label for="categoryId">Категория</label>
              <input type="text" class="form-control" id="categoryId" placeholder="Введите категорию"
                     th:field="*{category}">
            </div>
          </div>
        </div>
        <div class="row h1 justify-content-end">
          <div class="col-sm-3">
            <button type="submit" class="btn btn-outline-secondary">Применить фильтр</button>
          </div>
        </div>

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-3" th:remove="all-but-first">
          <div class="col" th:each="prod : ${prods}">
            <div class="card shadow-sm">
              <img src="../static/images/holiday.jpg" alt="фото"
                   th:src="@{'image/' + ${prod.image}}">
              <div class="card-body">
                <p class="card-text" th:text="${prod.name}">Корзинка с яйцами</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <a href="#productDetailsId" class="btn btn-outline-secondary"
                       th:href="@{${prod.id}}">
                      <i class="bi bi-info-circle"></i>
                    </a>
                    <a href="#" class="btn btn-outline-secondary">
                      <i class="bi bi-cart"></i>
                    </a>
                  </div>
                  <small class="text-muted" th:text="(${prod.price} == null ? '' : ${prod.price} + ' р.')">17 р.</small>
                </div>
              </div>
            </div>
          </div>
        </div>

        <nav aria-label="Навигации по страницам">
          <ul class="pagination justify-content-center">
            <li class="page-item">
              <input type="submit" class="page-link text-muted" name="pageNumber" value="1"
                     aria-label="Previous"
                     th:class="'page-link ' + (${page.first} ? 'text-bg-dark' : 'text-muted')"
                     th:value="${page.number} == 0 ? ${page.number} + 1 : ${page.number}">
            </li>
            <li class="page-item" th:class="'page-item ' + (${page.totalPages} <= 1 ? 'disabled' : '')">
              <input type="submit" class="page-link text-bg-dark" name="pageNumber" value="2"
                     th:class="'page-link ' + (${page.number} == 0 ? 'text-muted' : 'text-bg-dark')"
                     th:value="${page.number} == 0 ? ${page.number} + 2 : ${page.number} + 1">
            </li>
            <li class="page-item" th:class="'page-item ' + (${page.last} ? 'disabled' : '')">
              <input type="submit" class="page-link text-muted" name="pageNumber" value="3"
                     aria-label="Next"
                     th:value="${page.number} == 0 ? ${page.number} + 3 : ${page.number} + 2">
            </li>
          </ul>
        </nav>

      </form>

    </div>
  </div>

</div>

<div class="border-bottom border-top" id="productAddId">Добавить продукт</div>
<div th:fragment="productAdd">

  <div class="album py-5 bg-light">
    <div class="container">

      <div class="row row-cols-1 row-cols-sm-2 g-2">

        <div class="col">
          <div class="card shadow-sm">
            <div class="card-body">
              <form name="postcard" method="post" action="#productDetailsId" enctype="multipart/form-data"
                    id="addPostcardfForm" th:action="@{/product/add}"
                    th:object="${product}">

                <div class="form-group">
                  <label for="vendorCodeId">Артикул</label>
                  <input type="text" class="form-control" id="vendorCodeId" placeholder="Введите артикул"
                         th:field="*{vendorCode}">
                </div>

                <div class="form-group">
                  <label for="postcardName">Название</label>
                  <input type="text" class="form-control" id="postcardName" placeholder="Введите название"
                         th:field="*{name}">
                </div>

                <div class="form-group">
                  <label for="postcardAuthor">Автор</label>
                  <input type="text" class="form-control" id="postcardAuthor"
                         placeholder="Введите имя автороа" th:field="*{author}">
                </div>

                <div class="form-group">
                  <label for="postcardCategory">Категория</label>
                  <input type="text" class="form-control" id="postcardCategory"
                         placeholder="Введите категорию" th:field="*{category}">
                </div>

                <div class="form-group">
                  <label for="postcardTags">Теги</label>
                  <input type="text" class="form-control" id="postcardTags"
                         placeholder="Введите теги через запятую" th:field="*{tags}">
                </div>

                <div class="form-group">
                  <label  for="postcardDescription">Описание</label>
                  <textarea class="form-control" id="postcardDescription" rows="3"
                            th:field="*{description}"></textarea>
                </div>

                <div class="form-group">
                  <label  for="postcardPrice">Цена</label>
                  <input type="number" class="form-control" id="postcardPrice" rows="3"
                         th:field="*{price}">
                </div>

                <div class="form-group">
                  <label for="postcardFile">Добавить изображение</label>
                  <input type="file" class="form-control" id="postcardFile" name="file"
                         th:field="*{file}">
                </div>

                <button type="submit" class="btn btn-sm btn-outline-secondary">Добавить открытку</button>

              </form>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>

<div class="border-bottom border-top" id="productDetailsId">Информация о продукте</div>
<div th:fragment="productDetails">

  <div class="album py-5 bg-light">
    <div class="container">

      <div class="row row-cols-1 row-cols-sm-2 g-2">

        <div class="col">
          <div class="card shadow-sm">
            <img src="../static/images/holiday.jpg" alt="фото" th:src="@{'image/' + ${product.image} + '/full'}">
          </div>
        </div>

        <div class="col">
          <div class="card shadow-sm">
            <div class="card-body">
              <p class="card-text" th:text="${product.name}">Корзинка с яйцами</p>
              <p class="card-text" th:text="'Артикул: ' + ${product.vendorCode}">Артикул: 12212</p>
              <p class="card-text" th:text="'Автор: ' + ${product.author}">Автор: Петров П.П.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <a href="#" class="btn btn-outline-secondary">
                    <i class="bi bi-cart"></i>
                  </a>
                </div>
                <small class="text-muted" th:text="(${product.price} == null ? '' : ${product.price} + ' р.')">17 р.</small>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>

<div class="border-bottom border-top" id="footerId">Футер</div>
<div class="container" th:fragment="footer">
  <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <p class="col-md-4 mb-0 text-muted">© 2023 Магазин открыток.</p>
    <a href="#homePageId" th:href="@{~/index.html}"
       class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
      <img src="../static/images/logo.png" alt="Logo" th:src="@{/images/logo.png}">
    </a>
    <ul class="nav col-md-4 justify-content-end">
      <li class="nav-item"><a href="#homePageId" class="nav-link px-2 text-muted"
                              th:href="@{~/index.html}">Главная</a></li>
      <li class="nav-item"><a href="#catalogId" class="nav-link px-2 text-muted"
                              th:href="@{~/product/catalog}">Каталог</a></li>
    </ul>
  </footer>
</div>


<script src="../static/js/bootstrap.bundle.min.js" th:src="@{/js/bootstrap.bundle.min.js}" th:fragment="script"></script>

</body>
</html>